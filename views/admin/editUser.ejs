<% customCSS = `<link rel="stylesheet" href="/css/admin/editUser.css">` %>  <!-- Link đến CSS cho Users -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit User</title>
    <link rel="icon" href="/images/icon.png">
</head>
<body>
    <main>
        <h1>Edit User Information</h1>

        <% if (errorMessage) { %>
            <p class="error-message"><%= errorMessage %></p>
        <% } %>

        <form action="/admin/users/<%= editUser.user_id %>" method="POST">
            <div class="form-group">
                <label for="user_name">Username:</label>
                <input type="text" id="user_name" name="user_name" value="<%= editUser.user_name %>" placeholder="Username" required readonly class="readonly">
            </div>

            <div class="form-group">
                <label for="password">Password (Leave blank if unchanged):</label>
                <input type="password" id="password" name="password" placeholder="New Password" class="input-field">
            </div>

            <div class="form-group">
                <label for="role">Role:</label>
                <select id="role" name="role" class="input-field" disabled>
                    <option value="Bệnh nhân" <%= editUser.role === 'Bệnh nhân' ? 'selected' : '' %>>Bệnh nhân</option>
                    <option value="Bác sĩ" <%= editUser.role === 'Bác sĩ' ? 'selected' : '' %>>Bác sĩ</option>
                    <option value="Quản lý" <%= editUser.role === 'Quản lý' ? 'selected' : '' %>>Quản lý</option>
                </select>
            </div>

            <div class="form-group">
                <label for="full_name">Full Name:</label>
                <input type="text" id="full_name" name="full_name" value="<%= editUser.full_name %>" placeholder="Full Name" required class="input-field">
            </div>

            <div class="form-group">
                <label for="birthdate">Birthdate:</label>
                <input type="date" id="birthdate" name="birthdate" value="<%= new Date(editUser.birthdate).toISOString().split('T')[0] %>" required class="input-field">
            </div>

            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender" class="input-field">
                    <option value="Nam" <%= editUser.gender === 'Nam' ? 'selected' : '' %>>Nam</option>
                    <option value="Nữ" <%= editUser.gender === 'Nữ' ? 'selected' : '' %>>Nữ</option>
                </select>
            </div>

            <div class="form-group">
                <label for="phone_number">Phone Number:</label>
                <input type="text" id="phone_number" name="phone_number" value="<%= editUser.phone_number %>" placeholder="Phone Number" required class="input-field">
            </div>

            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" value="<%= editUser.address %>" placeholder="Address" required class="input-field">
            </div>

            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="<%= editUser.email %>" placeholder="Email" class="input-field">
            </div>

            <button type="submit" class="submit-btn">Update Information</button>
        </form>

        <a href="/admin/users" class="back-link">Back to User List</a>
    </main>
</body>
</html>

<% customJS = "" %>
